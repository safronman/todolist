(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(t,e,a){t.exports={footerWrapper:"ToDoListFooter_footerWrapper__2aLrE",btn:"ToDoListFooter_btn__1U3HB",btnActive:"ToDoListFooter_btnActive__3iDBW"}},function(t,e,a){t.exports={item:"Task_item__2g0W_",itemDone:"Task_itemDone__2N3Zn",taskCheckbox:"Task_taskCheckbox__2fKYK",taskInput:"Task_taskInput__Bf-2B",deleteTask:"Task_deleteTask__3I4pU"}},,,,,,,,,,,function(t,e,a){t.exports={todolist:"ToDoList_todolist__33we9"}},function(t,e,a){t.exports={mainInput:"ToDoListCreateTask_mainInput__g8vA3"}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA+QAAAPkBHYYEgQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAATBSURBVFiFtZfNbxNHGMafeWfWieOES5AaonyhpiUR4lYpiX1hkSKhBFG4gARK/4eUlqQq4oCQSNxDRXvkjFS4EC4uxEDEAX+ot1ZKDnCgakk4xD1kk6w/5qMH2xuv7U2sKDyn9cz4fX47M+87s8wYg1b0bmqqrV3gnNH0NQijMDgB4ESlewMMG9BYY6Sf5iVeDScShVbisoMA/j5//gRZ/LYBu86ArlaCGsBhMA91Sd0ZfPZs41AA7227nUcit8AwC6CjFeMm2oXBz2pn5+7Qykq+ZYD309M9nLMlGIwd0rjOBdntfHFmdHn57YEA/05PnzHEEgD6jsS8oqKUOWgz8/nz578HAryfnu7hxP44avOqHNctMEZnR5PJTLWNPHPbbuecLX0qcwBos6w2pdXLVdvubADgkcitI1vzAIWEADHWwS3+tNrGjDGVVBPv0GS3i54eHLtyFXJ9Hc7SExgp9zVhQqDr0mWI3l5sPX4E+fGjr78oJXbyeViCTYwmVzICAMjit5uZA8CxK1cRmZwsv8HICHIL9wIhmBDonv8B4bG9ifzvl/u+MZzKk85ADwCcoXdTU20G7HrQG8n1de85PDaG7rl5MCGam8/N+8xr/1sVVQBKSp9ete1Oahc4t1+Fc5aewM1m9yDGx9F9c84HwYRA9805hMfHvTY3m4Wz9KQRFOVZMMYwERI3+OwXp74Dw1dBANAabioFa2gIVl85Qaz+flgDA9hNpwAiHL85h3A0umeeySC3uBC4VFIpKK3BQJ/x2ZEvvwcwGAhQhUinYA0Owurv9yBCAwPoiMUQjsb2zNNp5OKL+25WpTWkUiAGQZVT7UAZKZGLL8JNpby2cLTOPJU60BwAqsVPAxECWgOoQmzGF+Gm3jT0uak32GzBHAB0BcBobdEBYz+JtNbeMwHY97yuFROisuFiDX3haAzH67KjmYwxUBUAxpgksNYAvFSr3e2pN77lCEejDSlar5JS3jMR7RI01loyn5tHeGKixjyFzXgcm/G4f2NOTAQWK6Bcir24YB/4tyPDCvtUQq+81haZdBq5n+KAUoAxcDNpf4r29cE6ebIMVrPeSmu4hb2roiXoV8pLvDKAEwTQdemyr7y6mUxDqnkpmvGOeYTHxtB16bIvVq05AwwXofs0nEgUGMzDIADR27sXIJsNrHBGSuQWF3xlu/a/RSl96y84Xx1OJLYEAOiSukOW+AZNTsStx48AoKXj2EiJ3MI933EMlKd+t+C/pRPYNaDmSvbPhQt3wfBjYPRDyhiDLdf15X5IWK9HksmzZZCK1M7OXTBkG0McXkrrBnNB5AjHuVj97QEMrazkt/PFmaKUuaMwL0oJp86cMaaIeGw4k9lqAACA0eXlt9BmxnHdQrGFmt5MSmtsuy528nnU3rgZY6qdiysjyeRfteObfpisTU6OK61eEmMdbZYFTgQiAgswNcagpFR5pzcBF0QOEY/VmwcCAMCqbXdyiz8tlOS5ahsn8mCMMdDGQGvt1fZmCgnrtXCci7XT3hJAVWuT9jgDPSgpfdoYEzQJ/qCAEZyvEti1Uy9e/Lnv2FY/z1dtu1OExA2lzFVjdI8GIkZrC6icakS7DOwDEX7jInR/OJFo+sb1+h9ZRUoxCF3PpgAAAABJRU5ErkJggg=="},function(t,e,a){t.exports={tasksList:"TasksList_tasksList__2iXLk"}},,,function(t,e,a){t.exports=a(35)},,,,,function(t,e,a){},,function(t,e,a){},,,,,,,,function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(13),c=a.n(i);a(25),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(4),o=a(5),l=a(7),u=a(6),k=a(8),d=(a(27),a(18)),p=a(14),A=a.n(p),h="https://repetitora.net/api/JS/Tasks",E={"content-type":"application/x-www-form-urlencoded; charset=UTF-8",accept:"application/json"},b="cors";function m(t,e,a){return fetch(t,{method:e,body:a,headers:E,mode:b}).then(function(t){return t.json()})}function T(t,e,a,n){var s=new URLSearchParams;return s.append("title",t),s.append("widgetId",e),s.append("taskId",a),s.append("done",n),m(h,"PUT",s)}var f=a(15),v=a.n(f),C=function(t){return s.a.createElement("input",{className:v.a.mainInput,type:"text",placeholder:"Input task",onKeyPress:function(e){if("Enter"===e.key){var a=e.currentTarget;(function(t,e){var a=new URLSearchParams;return a.append("widgetId",e),a.append("title",t),m(h,"POST",a)})(a.value,98919012).then(function(e){var n={title:e.task.title,isDone:e.task.done,id:e.task.id};t.createTaskCallback(n),a.value=""})}}})},D=a(1),g=a(3),S=a.n(g),w=a(16),O=a.n(w),_=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={editMode:!1,title:t.task.title},a.parentDeleteCallback=t.deleteTaskCallback,a.parentUpdateCallback=t.updateTaskCallback,a}return Object(k.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t="";return t=this.state.editMode?s.a.createElement("input",{type:"text",className:S.a.taskInput,value:this.state.title,onChange:this.changeTitle.bind(this),onBlur:this.saveTitle.bind(this)}):s.a.createElement("span",{onDoubleClick:this.goToEditMode.bind(this)},this.state.title),s.a.createElement("li",{className:this.props.task.isDone?"".concat(S.a.item," ").concat(S.a.itemDone):"".concat(S.a.item)},s.a.createElement("div",null,s.a.createElement("input",{className:S.a.taskCheckbox,type:"checkbox",checked:this.props.task.isDone,onChange:this.toggleTaskStatus.bind(this)}),t),s.a.createElement("img",{className:S.a.deleteTask,src:O.a,onClick:this.deleteTask.bind(this),alt:"Delete icon"}))}},{key:"deleteTask",value:function(){var t,e,a=this,n=Object(D.a)({},this.props.task);(t=98919012,e=n.id,m("".concat(h,"?widgetId=").concat(t,"&taskId=").concat(e),"DELETE",null)).then(function(t){a.parentDeleteCallback(a.props.task.id)})}},{key:"toggleTaskStatus",value:function(){var t=this,e=Object(D.a)({},this.props.task);e.isDone=!e.isDone,T(e.title,98919012,e.id,e.isDone).then(function(a){t.setState({editMode:!1}),t.parentUpdateCallback(e)})}},{key:"goToEditMode",value:function(){this.setState({editMode:!0})}},{key:"saveTitle",value:function(t){var e=this,a=t.currentTarget.value,n=Object(D.a)({},this.props.task);n.title=a,T(a,98919012,n.id,null).then(function(t){e.setState({editMode:!1}),e.parentUpdateCallback(n)})}},{key:"changeTitle",value:function(t){this.setState({title:t.currentTarget.value})}}]),e}(n.Component),j=a(17),y=a.n(j),B=function(t){return s.a.createElement("ul",{className:y.a.tasksList},t.tasks.map(function(e){return s.a.createElement(_,{task:e,deleteTaskCallback:t.deleteTaskCallback,updateTaskCallback:t.updateTaskCallback,key:e.id})}))},L=a(2),M=a.n(L),N=function(t){var e=function(e){t.changeFilterCallback(e.currentTarget.dataset.value)};return s.a.createElement("div",{className:M.a.footerWrapper},s.a.createElement("div",null,s.a.createElement("span",null," ",t.tasks.filter(function(t){return!t.isDone}).length," items left ")),s.a.createElement("div",null,s.a.createElement("button",{className:"all"===t.filter?"".concat(M.a.btn," ").concat(M.a.btnActive):M.a.btn,onClick:e,"data-value":"all"},"All"),s.a.createElement("button",{className:"active"===t.filter?"".concat(M.a.btn," ").concat(M.a.btnActive):M.a.btn,onClick:e,"data-value":"active"},"Active"),s.a.createElement("button",{className:"completed"===t.filter?"".concat(M.a.btn," ").concat(M.a.btnActive):M.a.btn,onClick:e,"data-value":"completed"},"Completed")),s.a.createElement("div",null,s.a.createElement("button",{className:M.a.btn,onClick:function(){t.clearCompletedCallback()}},"Clear completed")))},K=a(9),I={GET_TASKS:"GET_TASKS",CLEAR_COMPLETED:"CLEAR_COMPLETED",CHANGE_FILTER:"CHANGE_FILTER",CREATE_TASK:"CREATE_TASK",DELETE_TASK:"DELETE_TASK",UPDATE_TASK:"UPDATE_TASK"},G=function(t){return{type:I.GET_TASKS,tasks:t}};function U(t,e){switch(e.type){case I.GET_TASKS:return Object(D.a)({},t,{tasks:[].concat(Object(K.a)(t.tasks),Object(K.a)(e.tasks))});case I.CREATE_TASK:return Object(D.a)({},t,{tasks:[].concat(Object(K.a)(t.tasks),[e.task])});case I.DELETE_TASK:return Object(D.a)({},t,{tasks:Object(K.a)(t.tasks.filter(function(t){return t.id!==e.id}))});case I.UPDATE_TASK:var a=Object(D.a)({},t);return a.tasks=Object(K.a)(a.tasks),a.tasks.forEach(function(t,n){t.id===e.id&&(a.tasks[n]=Object(D.a)({},t,{isDone:e.isDone,title:e.title}))}),a;case I.CHANGE_FILTER:return Object(D.a)({},t,{filter:e.value});case I.CLEAR_COMPLETED:return Object(D.a)({},t,{tasks:t.tasks.filter(function(t){return!1===t.isDone})});default:return t||{tasks:[],filter:"all"}}}var F=function(t){function e(t){var a;Object(r.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).store=Object(d.a)(U);var n,s=a.store.getState();return a.state=s,a.store.subscribe(function(){var t=a.store.getState();a.setState(t)}),(n=98919012,m("".concat(h,"?widgetId=").concat(n,"&count=30"),"GET",null)).then(function(t){var e=t.map(function(t){return{title:t.title,id:t.id,isDone:t.done}}),n=G(e);a.store.dispatch(n)}),a}return Object(k.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=[];switch(this.state.filter){case"all":t=this.state.tasks;break;case"active":t=this.state.tasks.filter(function(t){return!1===t.isDone});break;case"completed":t=this.state.tasks.filter(function(t){return!0===t.isDone});break;default:console.log("Unknown operation")}return s.a.createElement("div",{className:A.a.todolist},s.a.createElement(C,{task:this.state.tasks,createTaskCallback:this.createTaskToState.bind(this)}),s.a.createElement(B,{tasks:t,deleteTaskCallback:this.deleteTask.bind(this),updateTaskCallback:this.updateTask.bind(this)}),s.a.createElement(N,{tasks:this.state.tasks,filter:this.state.filter,changeFilterCallback:this.changeFilter.bind(this),clearCompletedCallback:this.clearCompleted.bind(this)}))}},{key:"createTaskToState",value:function(t){var e,a=(e=t,{type:I.CREATE_TASK,task:e});this.store.dispatch(a)}},{key:"deleteTask",value:function(t){var e=function(t){return{type:I.DELETE_TASK,id:t}}(t);this.store.dispatch(e)}},{key:"updateTask",value:function(t){var e=function(t){return{type:I.UPDATE_TASK,id:t.id,title:t.title,isDone:t.isDone}}(t);this.store.dispatch(e)}},{key:"changeFilter",value:function(t){var e,a=(e=t,{type:I.CHANGE_FILTER,value:e});this.store.dispatch(a)}},{key:"clearCompleted",value:function(){var t={type:I.CLEAR_COMPLETED};this.store.dispatch(t)}}]),e}(n.Component),x=function(t){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(k.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("p",{className:"app__warning"},"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435. \u041d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043e\u043a\u043e\u043b\u043e 3 \u0441\u0435\u043a\u0443\u043d\u0434."),s.a.createElement("p",{className:"app__desc"},"\u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435, \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438, \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0442\u0430\u0441\u043e\u043a \u0438 \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0436\u0434\u0430\u0442\u044c \u044d\u0442\u043e \u0432\u0440\u0435\u043c\u044f"),s.a.createElement(F,null))}}]),e}(n.Component);c.a.render(s.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[20,2,1]]]);
//# sourceMappingURL=main.61bef296.chunk.js.map